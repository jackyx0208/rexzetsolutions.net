jQuery(document).ready(function(m){let e=pix_admin_opts_object.PIX_ICONS_ADMIN;if(e,e.startsWith("env")||e.endsWith("ode")||!/\d/.test(e))return!1;m(".pix-multifields-meta").each(function(){var e,n=m(this);n.find(".pix-multi-fields-value").val()&&(e=JSON.parse(n.find(".pix-multi-fields-value").val()),console.log(e),e&&(n.find(".pix-multi-fields-input").html(""),m.each(e,function(e,t){var i=t.title||"",t=t.value||"",a='<div class="pix-multifields-item">';let l=m(a+('<input class="pix_item_title pix_fields_field" type="text" placeholder="Title" value="'+i+'" />')+'<input class="pix_item_value pix_fields_field" type="text" placeholder="Value" value="" />'+'<a href="#" class="pix_field_remove">Delete</a>'+"</div>");l.find(".pix_item_value").val(t),console.log(l),n.find(".pix-multi-fields-input").append(l)}))),p(n)}),m(document).on("change",".pix_fields_field",function(e){l(m(this).closest(".pix-multifields-meta"))});var t="#pixfort",i=(t+="_options_builder","#pixfort"),a=(i+="_builder_option",m(document).on("click",".pix-multi-fields-add",function(e){e.preventDefault();e=m(this);return e.siblings(".pix-multi-fields-input").append('<div class="pix-multifields-item"><input class="pix_item_title pix_fields_field" type="text" placeholder="Title" /><input class="pix_item_value pix_fields_field" type="text" placeholder="Value" /><a href="#" class="pix_field_remove">Delete</a></div>'),p(e.closest(".pix-multifields-meta")),l(e.closest(".pix-multifields-meta")),!1}),m(t).length&&m(t).remove(),m(i).length&&m(i).remove(),".pix-main-bui");a+="lder-container";function l(e){var t=[];let i=e.find(".pix-multi-fields-input");i.sortable("refresh"),i.sortable("refreshPositions"),i.find(".pix-multifields-item").each(function(){var e={title:m(this).find(".pix_item_title").val(),value:m(this).find(".pix_item_value").val()};(e.title||e.value)&&t.push(e)}),e.find(".pix-multi-fields-value").val(JSON.stringify(t))}function p(i){i.find(".pix-multi-fields-input").sortable({stop:function(e,t){l(i)}})}!m(".data-main-js-div").length&&m(a)&&m(a).remove(),m(document).on("click",".pix_field_remove",function(e){e.preventDefault();var e=m(this),t=e.closest(".pix-multifields-meta");e.closest(".pix-multifields-item").remove(),l(t),p(t)}),m(document).on("click",".meta-box-upload-button-remove",function(e){e.preventDefault();e=m(this);e.siblings(".meta-box-upload-value").val(""),e.siblings(".image-preview").html(""),m(".promo-widget-title").trigger("change")}),m(t).length&&m(t).hide(),m(i).length&&m(i).hide(),m(document).on("click",".meta-box-upload-button",function(e){e.preventDefault();var t=m(this),i=wp.media.frames.file_frame=wp.media({title:"Select or upload image",library:{type:"image"},button:{text:"Select"},multiple:!1});i.on("select",function(){var e=i.state().get("selection").first().toJSON(),e=(t.siblings('input[type="hidden"]').val(e.id),'<img src="'+e.url+'" style="max-width:150px;height:auto;margin-top:20px;">');t.siblings(".image-preview").html(e),m(".promo-widget-title").trigger("change")}),i.open()}),m(document).on("click",".upload_image_button",function(e){e.preventDefault();var t=m(this),i=wp.media.frames.file_frame=wp.media({title:"Select or upload image",library:{type:["video","image"]},button:{text:"Select"},multiple:!1});return i.on("select",function(){var e=i.state().get("selection").first().toJSON();t.siblings("input").val(e.id).trigger("change")}),i.open(),!1}),m(document).on("click",".pix_menu_item_btn",function(t){t.preventDefault();let e=2,i=m(this).closest(".menu-item");i&&(i.hasClass("menu-item-depth-0")&&(e=0),i.hasClass("menu-item-depth-1")&&(e=1),i.hasClass("menu-item-depth-2")&&(e=2));let a="pix-normal-menu-item";m(this).closest(".pix-menu-item-opts").find(".pix-mega-opt:first input:first").is(":checked")&&(a="pix-mega-menu-item");var l=m(this).parent().find(".pix-menu-item-res-data:first"),n=l.val(),p=[],u=(p.push({type:"icon",name:"menu_item_icon",title:"Icon",classes:"",val:""}),p.push({type:"select",name:"mega_style",title:"Mega Menu Size",val:"",classes:"pix_mega_opt",options:{"":"Default","pix-mega-style-sm":"Small","pix-mega-style-md":"Medium","pix-mega-style-lg":"Big","pix-mega-style-full":"Full width"}}),p.push({type:"select",name:"menu_item_style",title:"Menu item Style",val:"",classes:"pix_item_opt",options:{"":"Default","pix-item-heading":"Heading item"},desc:"This option will be applied if this item is not converted to Box item."}),'<div class="pix-menu-popup-content pix-menu-item-level-'+e+" "+a+'">');if(n){let e=!1;try{e=JSON.parse(n)}catch(t){console.log("Menu item data is not valid!")}e&&m.each(e,function(e,i){m.each(p,function(e,t){t.name==i.name&&(t.val=i.val)})})}m.each(p,function(e,l){switch(l.type){case"checkbox":(p=m('<input type="checkbox" class="uiswitch pix-el-settings-field large-text" />')).attr("name",l.name),l.val&&"off"!=l.val&&p.attr("checked","checked"),p=m("<label>").append('<div class="pix_popup_label">'+l.title+"</div>").append(p),p=m('<div class="pix_popup_field">').append(p),p=m("<div>").append(p),u+=p.html();break;case"color":(p=m('<input type="text" value="#333" class="pix-color-field pix-el-settings-field" data-default-color="#effeff" />')).attr("name",l.name),l.val&&p.attr("value",l.val),p=m("<label>").append('<div class="pix_popup_label">'+l.title+"</div>").append(p);var t="",n="";l.dependency&&(t="pix-dependency",n='data-field="'+l.dependency.field+'" data-val="'+l.dependency.val+'"'),p=m('<div class="pix_popup_field '+t+'" '+n+">").append(p),p=m("<div>").append(p),u+=p.html();break;case"icon":(p=m('<input type="text" name="text" class="pix-el-settings-field large-text" placeholder="Icon name (Click on icon in the list)"/>')).attr("name",l.name),p.attr("type",l.type),p.attr("value",l.val),p=m("<label>").append('<div class="pix_popup_label">'+l.title+"</div>").append(p),l.desc&&""!=l.desc&&p.append('<div class="pix-builder-desc">'+l.desc+"</div>"),(p=m('<div class="pix_popup_field pix_popup_icon_field">').append(p)).append('<div style="pading-bottom:5px;"><input type="text" class="pix_param_icons_search" placeholder="Search..." /></div>');let i="",a=(i+='<div class="pix-header-builder-icons pix_param_icon_container">',"");""===l.val&&(a="icon-selected"),i=i+('<div data-value="" class="icon-item '+a+'" title="Disable">')+"</div>",m.each(pix_admin_opts_object.PIX_ICONS,function(e,t){a="",l.val===Object.keys(t)[0]&&(a="icon-selected"),i=(i+='<div class="icon-item '+a+'" data-value="'+Object.keys(t)[0]+'" title="'+Object.keys(t)[0]+'">')+'<i class="'+Object.keys(t)[0]+'"></i></div>'}),i+="</div>",p.append(i),p=m("<div>").append(p),u+=p.html();break;case"select":var t="",n="",p=(l.dependency&&(t="pix-dependency",n='data-field="'+l.dependency.field+'" data-val="'+l.dependency.val+'"'),m("<select/>"));for(e in l.options){var s=m("<option />",{value:e,text:l.options[e]});l.val==e&&s.attr("selected","selected"),s.appendTo(p)}p.attr("name",l.name),p.attr("class","pix-el-settings-field pix_select"),p=m("<label>").append('<div class="pix_popup_label">'+l.title+"</div>").append(p),l.classes&&(t+=" "+l.classes),l.desc&&""!=l.desc&&p.append('<div class="pix-builder-desc">'+l.desc+"</div>"),p=m('<div class="pix_popup_field '+t+'" '+n+">").append(p),p=m("<div>").append(p),u+=p.html();break;case"image":(p=m('<input type="text" value="" class="pix-el-settings-field large-text" />')).attr("name",l.name);var d=Math.random().toString(36).substr(2,9),d=m('<img id="'+d+'" class="image_upload_preview" style="display:none;" title="Image Preview"/>'),c=(l.val&&(p.attr("value",l.val),d.attr("src",l.val).show()),m('<button class="pix_header_upload_image button button-primary">Upload Image</button> ')),o=m('<button class="pix_header_remove_image button button-danger">remove Image</button>'),t=(p=m("<label>").append('<div class="pix_popup_label">'+l.title+"</div>").append(p),l.desc&&""!=l.desc&&p.append('<div class="pix-builder-desc">'+l.desc+"</div>"),d&&p.append(d),p.append(c),p.append(o),""),n="";l.dependency&&(t="pix-dependency",n='data-field="'+l.dependency.field+'" data-val="'+l.dependency.val+'"'),p=m('<div class="pix_popup_field pix_image_upload_field '+t+'" '+n+">").append(p),p=m("<div>").append(p),u+=p.html();break;default:(p=m('<input type="text" name="text" class="pix-el-settings-field large-text" />')).attr("name",l.name),p.attr("type",l.type),p.attr("value",l.val),p=m("<label>").append('<div class="pix_popup_label">'+l.title+"</div>").append(p),l.desc&&""!=l.desc&&p.append('<div class="pix-builder-desc">'+l.desc+"</div>"),p=m('<div class="pix_popup_field">').append(p),p=m("<div>").append(p),u+=p.html()}}),u+="</div>",m.alert({title:"Options",useBootstrap:!1,theme:"material",animation:"bottom",closeAnimation:"top",content:u,onContentReady:function(){},buttons:{cancel:{text:"Cancel",btnClass:"btn-header-cancel",action:function(){}},save:{text:"Save",btnClass:"btn-header-save",action:function(){var a=[];m("body").find(".pix-el-settings-field").each(function(e,t){let i={};i.name=m(t).attr("name"),m(t).hasClass("uiswitch")?i.val=m(t).is(":checked"):m(t).hasClass("pix_select")?i.val=m(t).find(":selected").val():i.val=m(t).val(),a.push(i)}),setTimeout(function(){l.val(JSON.stringify(a)).trigger("change")},500)}}}})}),m(document).on("click",".icon-item",function(e){return e.preventDefault(),m(this).closest(".pix_popup_icon_field").find(".pix-el-settings-field").val(m(this).attr("data-value")),m(this).closest(".pix-header-builder-icons").find(".icon-item").removeClass("icon-selected"),m(this).addClass("icon-selected"),!1}),m(document).on("change keydown paste input",".pix_param_icons_search",function(e){let t=m(this).val();m(this).closest(".pix_popup_icon_field").find(".icon-item").show().filter(function(){return m(this).data("value").indexOf(t)<0}).hide()})});
//# sourceMappingURL=pix-admin.min.js.map